(this["webpackJsonpkids-art-gallery"]=this["webpackJsonpkids-art-gallery"]||[]).push([[0],{365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},605:function(e,t){},607:function(e,t){},618:function(e,t){},620:function(e,t){},647:function(e,t){},649:function(e,t){},650:function(e,t){},655:function(e,t){},657:function(e,t){},676:function(e,t){},688:function(e,t){},691:function(e,t){},735:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(81),i=n.n(s),l=(n(364),n(365),n(32)),o=(n(366),n(114)),j=n(21),u=n(748),d=n(747),b=Object(a.createContext)(null);n(367);var O=function(e){var t=e.onLogout,n=Object(a.useContext)(b);return Object(r.jsxs)(u.a,{bg:"light",expand:"lg",children:[Object(r.jsx)(u.a.Brand,{href:"#",children:"Logo"}),Object(r.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(d.a,{className:"mr-auto",children:[n&&"artist"===n.role?Object(r.jsx)(d.a.Link,{href:"#",children:"About me"}):null,n&&"artist"===n.role?Object(r.jsx)(d.a.Link,{href:"#/ArtistGalleries",children:"My galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(d.a.Link,{href:"#/GalleryOwner",children:"Galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(d.a.Link,{href:"#/GalleryOwnerArtists",children:"Artists"}):null]}),Object(r.jsxs)(d.a,{className:"ml-auto",children:[n?null:Object(r.jsx)(d.a.Link,{href:"#/Login",children:"LogIn"}),n?null:Object(r.jsx)(d.a.Link,{href:"#",children:"SignIn"}),n?Object(r.jsx)(d.a.Link,{href:"#",onClick:function(){return t()},children:"LogOut"}):null]})]})]})};n(371);var h=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{}),Object(r.jsx)("p",{children:"HomePage"})]})},x=n(56),f=n.n(x),g=n(97),p=n(742),m=n(746),v=n(743),y=(n(372),n(18)),w=n.n(y),k=n(116),L=function e(t){Object(k.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.role=t.get("role"),this.email=t.get("email"),this.picture=t.get("picture")};var C=function(e){var t=Object(a.useState)("rev@rev.com"),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("1234"),o=Object(l.a)(i,2),u=o[0],d=o[1],b=e.onLogin,O=Object(a.useState)(!1),h=Object(l.a)(O,2),x=h[0],y=h[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),A=C[0],G=C[1];function I(){return(I=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.User.logIn(c,u);case 3:t=e.sent,n=new L(t),b(n),"artist"===n.role&&y(!0),"galleryOwner"===n.role&&G(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error while logging in , "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return A?Object(r.jsx)(j.a,{to:"/GalleryOwner"}):x?Object(r.jsx)(j.a,{to:"/ArtistGalleries"}):Object(r.jsx)("div",{className:"p-login",children:Object(r.jsx)(p.a,{children:Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(m.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(m.a.Label,{children:"Email address"}),Object(r.jsx)(m.a.Control,{type:"email",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter email"}),Object(r.jsx)(m.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(m.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(m.a.Label,{children:"Password"}),Object(r.jsx)(m.a.Control,{type:"password",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Password"})]}),Object(r.jsx)(v.a,{variant:"primary",type:"button",onClick:function(){return I.apply(this,arguments)},children:"Submit"})]})})})};n(735);var A=function(e){var t=e.onLogout;return Object(a.useContext)(b),Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)("p",{children:"GalleryOwnerPage"})]})},G=(n(736),function e(t){Object(k.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.img=t.get("artwork").url(),this.galleryId=t.get("galleryId")}),I=n(357),B=n(744),N=function e(t){Object(k.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy")},S=n(749);n(737);var E=function(e){var t=e.gallery,n=e.artworks;console.log(n);var a="#/ArtistGalleries/"+t.name;return Object(r.jsx)("div",{className:"c-gallery-card",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(S.a.Body,{children:Object(r.jsx)(S.a.Title,{children:t.name})}),n[0]?Object(r.jsx)(S.a.Img,{variant:"bottom",src:n[0].img}):null,Object(r.jsxs)(v.a,{href:a,variant:"primary",children:["Go to ",t.name," "]})]})})};var P=function(e){var t=e.onLogout,n=Object(a.useContext)(b),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),h=d[0],x=d[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(f.a.mark((function e(){var t,n,r,a,c,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w.a.Object.extend("Gallery"),n=new w.a.Query(t),e.next=5,n.find();case 5:return r=e.sent,console.log("Galleries found",r),a=r.map((function(e){return new N(e)})),c=w.a.Object.extend("ArtWork"),(s=new w.a.Query(c)).include("galleryId",a),e.next=13,s.find();case 13:i=e.sent,console.log("ArtWork found",i),o(a),x(i.map((function(e){return new G(e)}))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var m=i.map((function(e){return Object(r.jsx)(I.a,{lg:3,md:6,children:Object(r.jsx)(E,{artworks:h.filter((function(t){return t.galleryId.id===e.id})),gallery:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-artistGalleries",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)(p.a,{children:Object(r.jsxs)(B.a,{children:[m,m,m,m]})})]})};n(738),n(739);var T=function(e){var t=e.artwork;return Object(r.jsx)("div",{className:"c-pic-card",children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)(S.a.Body,{children:Object(r.jsx)(S.a.Title,{children:t.name})}),Object(r.jsx)(S.a.Img,{variant:"bottom",src:t.img})]})})},F=n(745);var H=function(e){var t=e.show,n=e.handleClose,c=e.addContent,s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),b=d[0],O=d[1];function h(){j(""),O(null),n()}return Object(r.jsxs)(F.a,{show:t,onHide:n,size:"xl",className:"c-new-recipe-modal",children:[Object(r.jsx)(F.a.Header,{closeButton:!0,children:Object(r.jsx)(F.a.Title,{children:"New artwork"})}),Object(r.jsx)(F.a.Body,{children:Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(m.a.Group,{as:B.a,controlId:"formHorizontalName",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:2,children:"Artwork Name"}),Object(r.jsx)(I.a,{sm:10,children:Object(r.jsx)(m.a.Control,{type:"text",placeholder:"Artwork Name",value:o,onChange:function(e){return j(e.target.value)}})})]}),Object(r.jsxs)(m.a.Group,{as:B.a,controlId:"formHorizontalImage",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:2,children:"Artwork Image"}),Object(r.jsx)(I.a,{sm:10,children:Object(r.jsx)(m.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?O(e.target.files[0]):O(null)}})})]})]})}),Object(r.jsxs)(F.a.Footer,{children:[Object(r.jsx)(v.a,{variant:"secondary",onClick:h,children:"Cancel"}),Object(r.jsx)(v.a,{variant:"primary",onClick:function(){c(o,b),h()},children:"Add artwork"})]})]})};var U=function(e){var t=e.onLogout,n=Object(j.g)().galleryName,c=Object(a.useContext)(b),s=Object(a.useState)([]),i=Object(l.a)(s,2),o=i[0],u=i[1],d=Object(a.useState)(!1),h=Object(l.a)(d,2),x=h[0],m=h[1],y=Object(a.useState)([]),k=Object(l.a)(y,2),L=k[0],C=k[1];function A(){return(A=Object(g.a)(f.a.mark((function e(t,n){var r,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(n.name),console.log(L[0].id),r={__type:"Pointer",className:"Gallery",objectId:L[0].id},a=w.a.Object.extend("ArtWork"),(c=new a).set("name",t),c.set("createdBy",w.a.User.current()),c.set("artwork",new w.a.File(n.name,n)),c.set("galleryId",r),e.next=13,c.save();case 13:s=e.sent,console.log("ArtWork created"),u(o.concat(new G(s))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(f.a.mark((function e(){var t,r,a,c,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w.a.Object.extend("Gallery"),(r=new w.a.Query(t)).equalTo("name",n),e.next=6,r.find();case 6:return a=e.sent,C(a),c=w.a.Object.extend("ArtWork"),(s=new w.a.Query(c)).equalTo("galleryId",a[0]),e.next=13,s.find();case 13:i=e.sent,u(i.map((function(e){return new G(e)}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[c]),!c)return Object(r.jsx)(j.a,{to:"#/"});var N=o.map((function(e){return Object(r.jsx)(I.a,{lg:2,md:6,children:Object(r.jsx)(T,{artwork:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryByIdPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)(p.a,{children:[Object(r.jsx)("p",{children:n}),Object(r.jsxs)(B.a,{children:[N,Object(r.jsxs)(v.a,{variant:"info",onClick:function(){return m(!0)},children:["Add",Object(r.jsx)("br",{}),"artwork"]})]})]}),Object(r.jsx)(H,{show:x,handleClose:function(){return m(!1)},addContent:function(e,t){return A.apply(this,arguments)}})]})};var z=function(e){var t=e.onLogout;return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)("p",{children:"GalleryOwnerArtistsPage"})]})};var Q=function(){var e=Object(a.useState)(w.a.User.current()?new L(w.a.User.current()):null),t=Object(l.a)(e,2),n=t[0],c=t[1];function s(){c(null),w.a.User.logOut()}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(b.Provider,{value:n,children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",children:Object(r.jsx)(h,{})}),Object(r.jsx)(j.b,{exact:!0,path:"/Login",children:Object(r.jsx)(C,{onLogin:function(e){c(e)}})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwner",children:Object(r.jsx)(A,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwnerArtists",children:Object(r.jsx)(z,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries",children:Object(r.jsx)(P,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries/:galleryName",children:Object(r.jsx)(U,{onLogout:s})})]})})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,750)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};w.a.serverURL="https://parseapi.back4app.com",w.a.initialize("QhROuOfnzEEICGNC3Bzqw8dkXva20GYFeBVrljX9","wmkjaeQ7aDAEUHIHtCmZ3cmaqaA6LsILBPrrlIjE"),i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Q,{})}),document.getElementById("root")),W()}},[[740,1,2]]]);
//# sourceMappingURL=main.428c42f4.chunk.js.map