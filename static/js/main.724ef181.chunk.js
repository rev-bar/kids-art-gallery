(this["webpackJsonpkids-art-gallery"]=this["webpackJsonpkids-art-gallery"]||[]).push([[0],{365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},605:function(e,t){},607:function(e,t){},618:function(e,t){},620:function(e,t){},647:function(e,t){},649:function(e,t){},650:function(e,t){},655:function(e,t){},657:function(e,t){},676:function(e,t){},688:function(e,t){},691:function(e,t){},735:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){},741:function(e,t,n){},742:function(e,t,n){},743:function(e,t,n){},744:function(e,t,n){},745:function(e,t,n){},746:function(e,t,n){},747:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(84),o=n.n(s),i=(n(364),n(365),n(13)),l=(n(366),n(81)),j=n(23),u=n(756),d=n(749),b=n(755),h=Object(a.createContext)(null);n(367);var O=function(e){var t=e.onLogout,n=Object(a.useContext)(h);return Object(r.jsxs)(u.a,{bg:"light",expand:"lg",className:"c-navBar",children:[Object(r.jsxs)(u.a.Brand,{href:"#",children:[" ",Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTFE371xtXW78pE0Dj4ntg1aIV62EdUGmwBwQ&usqp=CAU",rounded:!0})]}),Object(r.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(b.a,{className:"mr-auto",children:[n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#",children:"About me"}):null,n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#/ArtistGalleries",children:"My galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwner",children:"Galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwnerArtists",children:"Artists"}):null]}),Object(r.jsxs)(b.a,{className:"ml-auto",children:[n?null:Object(r.jsx)(b.a.Link,{href:"#/Login",children:"LogIn"}),n?null:Object(r.jsx)(b.a.Link,{href:"#",children:"SignIn"}),n?Object(r.jsx)(b.a.Link,{href:"#",onClick:function(){return t()},children:"LogOut"}):null]})]})]})};n(371);var x=function(e){var t=e.onLogout;return Object(a.useContext)(h),Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)("p",{children:"HomePage"})]})},f=n(17),p=n.n(f),m=n(44),g=n(750),v=n(754),y=n(751),w=(n(372),n(11)),k=n.n(w),C=n(116),A=function e(t){Object(C.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.role=t.get("role"),this.email=t.get("email"),this.picture=t.get("picture"),this.username=t.get("username"),this.aditionalData=t.get("aditionalData"),this.parseUser=t};var L=function(e){var t=Object(a.useState)("rev@rev.com"),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)("1234"),l=Object(i.a)(o,2),u=l[0],d=l[1],b=e.onLogin,h=Object(a.useState)(!1),O=Object(i.a)(h,2),x=O[0],f=O[1],w=Object(a.useState)(!1),C=Object(i.a)(w,2),L=C[0],G=C[1];function N(){return(N=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.User.logIn(c,u);case 3:t=e.sent,n=new A(t),b(n),"artist"===n.role&&f(!0),"galleryOwner"===n.role&&G(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error while logging in , "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return L?Object(r.jsx)(j.a,{to:"/GalleryOwner"}):x?Object(r.jsx)(j.a,{to:"/ArtistGalleries"}):Object(r.jsx)("div",{className:"p-login",children:Object(r.jsx)(g.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(v.a.Label,{children:"Email address"}),Object(r.jsx)(v.a.Control,{type:"email",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter email"}),Object(r.jsx)(v.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(v.a.Label,{children:"Password"}),Object(r.jsx)(v.a.Control,{type:"password",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Password"})]}),Object(r.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){return N.apply(this,arguments)},children:"Submit"})]})})})},G=function e(t){Object(C.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.artist=t.get("artist")},N=(n(735),n(357)),I=n(752),E=n(757);n(736);var B=function(e){var t=e.gallery,n=e.artist;return Object(r.jsx)("div",{className:"c-owner-gallery-card",children:Object(r.jsxs)(E.a,{children:[Object(r.jsxs)(E.a.Body,{children:[Object(r.jsx)(E.a.Title,{children:t.name}),n?Object(r.jsxs)(E.a.Title,{children:[" by  ",n.username]}):null]}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{href:"#",variant:"primary",children:" Edit "}),Object(r.jsxs)(y.a,{href:"#",variant:"danger",children:[" ",Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJ7O9DX6yL7LzYYgjvYMYtDv4me4jON3xYJQYIgkd0icfVD3qxX_xuMl4a6skuV_nhl1kTlUtLlv2crezZF71CcvNr1vEkk9Xqxg&usqp=CAU&ec=45761792",rounded:!0})," "]})]})]})})},S=n(753);n(737);var U=function(e){var t=e.artists,n=e.show,c=e.handleClose,s=e.addContent,o=Object(a.useState)(""),l=Object(i.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),h=b[0],O=b[1];function x(){u(""),O(""),c()}Object(a.useEffect)((function(){t.length>=1&&O(t[0].username)}),[t]);var f=[];return t.length>=1&&(f=t.map((function(e,t){return Object(r.jsx)("option",{value:e.username,children:e.username},e.id)}))),Object(r.jsxs)(S.a,{show:n,onHide:c,size:"xl",className:"c-new-gallery-modal",children:[Object(r.jsx)(S.a.Header,{closeButton:!0,children:Object(r.jsx)(S.a.Title,{children:"New gallery"})}),Object(r.jsxs)(S.a.Body,{children:[Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Gallery Name"}),Object(r.jsx)(N.a,{sm:8,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Gallery Name",value:j,onChange:function(e){return u(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalArtist",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artist Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)("select",{value:h,onChange:function(e){var t=e.target.value;O(t)},children:f})})]})]}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:x,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){s(j,h),x()},children:"Add gallery"})]})]})};var q=function(e){var t=e.onLogout,n=Object(a.useContext)(h),c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)([]),b=Object(i.a)(u,2),x=b[0],f=b[1],v=Object(a.useState)(!1),w=Object(i.a)(v,2),C=w[0],L=w[1];function E(){return(E=Object(m.a)(p.a.mark((function e(t,n){var r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),r=x.find((function(e){return e.username===n})),console.log(r),a=k.a.Object.extend("Gallery"),(c=new a).set("name",t),c.set("createdBy",k.a.User.current()),c.set("artist",r.parseUser),e.next=11,c.save();case 11:s=e.sent,console.log("Gallery created"),l(o.concat(new G(s))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,r,a,c,s,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("createdBy",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,a=r.map((function(e){return new G(e)})),c=new k.a.User,(s=new k.a.Query(c)).equalTo("role","artist"),e.next=13,s.find();case 13:o=e.sent,i=o.map((function(e){return new A(e)})),l(a),f(i),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var S=o.map((function(e){return Object(r.jsx)(N.a,{xl:3,md:4,children:Object(r.jsx)(B,{gallery:e,artist:x.find((function(t){return t.id===e.artist.id}))})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryOwnerPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)("p",{children:[n.username,"'s galleries"]}),Object(r.jsx)(g.a,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{variant:"info",onClick:function(){return L(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})}),S]})}),Object(r.jsx)(U,{show:C,handleClose:function(){return L(!1)},addContent:function(e,t){return E.apply(this,arguments)},artists:x})]})},T=(n(738),function e(t){Object(C.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.img=t.get("artwork").url(),this.galleryId=t.get("galleryId")});n(739);var z=function(e){var t=e.gallery,n=e.artworks,a="#/ArtistGalleries/"+t.name;return Object(r.jsx)("div",{className:"c-gallery-card",children:Object(r.jsxs)(E.a,{children:[Object(r.jsx)(E.a.Body,{children:Object(r.jsx)(E.a.Title,{children:t.name})}),n[0]?Object(r.jsx)(E.a.Img,{variant:"bottom",src:n[0].img}):null,Object(r.jsxs)(y.a,{href:a,variant:"primary",children:["Go to ",t.name," "]})]})})};var D=function(e){var t=e.onLogout,n=Object(a.useContext)(h),c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)([]),d=Object(i.a)(u,2),b=d[0],x=d[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,r,a,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("artist",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,a=r.map((function(e){return new G(e)})),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).include("galleryId",a),e.next=13,s.find();case 13:o=e.sent,l(a),x(o.map((function(e){return new T(e)}))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var f=o.map((function(e){return Object(r.jsx)(N.a,{lg:3,md:6,children:Object(r.jsx)(z,{artworks:b.filter((function(t){return t.galleryId.id===e.id})),gallery:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-artistGalleries",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)(g.a,{children:Object(r.jsx)(I.a,{children:f})})]})};n(740),n(741);var Q=function(e){var t=e.artwork,n=e.show,a=e.handleClose;return Object(r.jsx)(S.a,{show:n,onHide:a,size:"l",className:"c-large-pic-modal",children:Object(r.jsxs)(S.a.Body,{children:[Object(r.jsx)(v.a.Group,{controlId:"largePic",children:Object(r.jsx)(d.a,{src:t,rounded:!0})}),Object(r.jsx)(I.a,{children:Object(r.jsx)(y.a,{variant:"secondary",onClick:function(){a()},children:"Close"})})]})})};n(742);var F=function(e){var t=e.artwork,n=e.deleteArtwork,c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(r.jsxs)("div",{className:"c-pic-card",children:[Object(r.jsx)("img",{className:"delete-button",onClick:function(){n(t)},src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJ7O9DX6yL7LzYYgjvYMYtDv4me4jON3xYJQYIgkd0icfVD3qxX_xuMl4a6skuV_nhl1kTlUtLlv2crezZF71CcvNr1vEkk9Xqxg&usqp=CAU&ec=45761792"}),Object(r.jsxs)(E.a,{children:[Object(r.jsx)(E.a.Body,{children:Object(r.jsx)(E.a.Title,{children:t.name})}),Object(r.jsx)(E.a.Img,{variant:"bottom",src:t.img,onClick:function(){return l(!0)}})]}),Object(r.jsx)(Q,{show:o,handleClose:function(){return l(!1)},artwork:t.img})]})};n(743);var H=function(e){var t=e.show,n=e.handleClose,c=e.addContent,s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(null),d=Object(i.a)(u,2),b=d[0],h=d[1];function O(){j(""),h(null),n()}return Object(r.jsxs)(S.a,{show:t,onHide:n,size:"xl",className:"c-new-artwork-modal",children:[Object(r.jsx)(S.a.Header,{children:Object(r.jsx)(S.a.Title,{children:"New artwork"})}),Object(r.jsx)(S.a.Body,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Artwork Name",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalImage",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Image"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?h(e.target.files[0]):h(null)}})})]})]})}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:O,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){c(l,b),O()},children:"Add artwork"})]})]})};var P=function(e){var t=e.onLogout,n=Object(j.g)().galleryName,c=Object(a.useContext)(h),s=Object(a.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],b=Object(a.useState)(!1),x=Object(i.a)(b,2),f=x[0],v=x[1],w=Object(a.useState)([]),C=Object(i.a)(w,2),A=C[0],L=C[1];function G(){return(G=Object(m.a)(p.a.mark((function e(t,n){var r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(n.name),console.log(A[0].id),r={__type:"Pointer",className:"Gallery",objectId:A[0].id},a=k.a.Object.extend("ArtWork"),(c=new a).set("name",t),c.set("createdBy",k.a.User.current()),c.set("artwork",new k.a.File(n.name,n)),c.set("galleryId",r),e.next=13,c.save();case 13:s=e.sent,console.log("ArtWork created"),u(l.concat(new T(s))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function E(e){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.id),n=k.a.Object.extend("ArtWork"),r=new k.a.Query(n),e.next=6,r.get(t.id);case 6:e.sent.destroy().then(console.log("Deleted ArtWork")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,r,a,c,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(r=new k.a.Query(t)).equalTo("name",n),e.next=6,r.find();case 6:return a=e.sent,L(a),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).equalTo("galleryId",a[0]),e.next=13,s.find();case 13:o=e.sent,u(o.map((function(e){return new T(e)}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[c,l]),!c)return Object(r.jsx)(j.a,{to:"#/"});var S=l.map((function(e){return Object(r.jsx)(N.a,{xl:2,md:3,children:Object(r.jsx)(F,{deleteArtwork:E,artwork:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryByIdPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)("p",{children:n}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{variant:"info",onClick:function(){return v(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})}),S]})]}),Object(r.jsx)(H,{show:f,handleClose:function(){return v(!1)},addContent:function(e,t){return G.apply(this,arguments)}})]})};n(744),n(745);var Y=function(e){var t=e.artist,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){null!==t&&t.aditionalData&&o(t.aditionalData.about)}),[t]),Object(r.jsx)("div",{className:"c-artist-card",children:Object(r.jsxs)(E.a,{children:[Object(r.jsxs)(E.a.Body,{children:[t?Object(r.jsxs)(E.a.Title,{className:"name",children:[" ",t.username]}):null,t?Object(r.jsxs)(E.a.Title,{className:"about",children:[" ",s]}):null]}),Object(r.jsx)(y.a,{href:"#",variant:"primary",children:" Edit "})]})})};n(746);var W=function(e){var t=e.show,n=e.handleClose,c=e.addContent,s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(""),d=Object(i.a)(u,2),b=d[0],h=d[1],O=Object(a.useState)(""),x=Object(i.a)(O,2),f=x[0],p=x[1],m=Object(a.useState)(""),g=Object(i.a)(m,2),w=g[0],k=g[1];function C(){j(""),h(""),n()}return Object(r.jsxs)(S.a,{show:t,onHide:n,size:"xl",className:"c-new-artist-modal",children:[Object(r.jsx)(S.a.Header,{children:Object(r.jsx)(S.a.Title,{children:"New artist"})}),Object(r.jsx)(S.a.Body,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artist Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Artist Name",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalImage",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"About the artist"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"About the artist",onChange:function(e){return h(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formBasicEmail",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Email address"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return p(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formBasicPassword",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Password"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return k(e.target.value)}})})]})]})}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:C,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){c(l,b,f,w),C()},children:"Add artist"})]})]})};var J=function(e){var t=e.onLogout,n=Object(a.useContext)(h),c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(!1),b=Object(i.a)(u,2),x=b[0],f=b[1];function v(){return(v=Object(m.a)(p.a.mark((function e(t,n,r,a){var c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(n),console.log(r),console.log(a),c=k.a.User.current().get("sessionToken"),(s=new k.a.User).set("username",t),s.set("email",r),s.set("role","artist"),s.set("parentId",k.a.User.current()),s.set("password",a),s.set("aditionalData",{about:n}),e.next=15,s.signUp();case 15:i=e.sent,console.log("User signed up",s),l(o.concat(new A(i))),k.a.User.become(c),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new k.a.User,(n=new k.a.Query(t)).equalTo("role","artist"),n.equalTo("parentId",k.a.User.current()),e.next=7,n.find();case 7:r=e.sent,console.log("Artists found",r[0].get("aditionalData")),a=r.map((function(e){return new A(e)})),l(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var w=o.map((function(e){return Object(r.jsx)(N.a,{xl:3,md:4,children:Object(r.jsx)(Y,{artist:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryOwnerArtistsPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)("p",{children:[n.username,"'s artists"]}),Object(r.jsx)(g.a,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{variant:"info",onClick:function(){return f(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})}),w]})}),Object(r.jsx)(W,{show:x,handleClose:function(){return f(!1)},addContent:function(e,t,n,r){return v.apply(this,arguments)}})]})};var M=function(){var e=Object(a.useState)(k.a.User.current()?new A(k.a.User.current()):null),t=Object(i.a)(e,2),n=t[0],c=t[1];function s(){c(null),k.a.User.logOut()}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(h.Provider,{value:n,children:Object(r.jsx)(l.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",children:Object(r.jsx)(x,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/Login",children:Object(r.jsx)(L,{onLogin:function(e){c(e)}})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwner",children:Object(r.jsx)(q,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwnerArtists",children:Object(r.jsx)(J,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries",children:Object(r.jsx)(D,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries/:galleryName",children:Object(r.jsx)(P,{onLogout:s})})]})})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,758)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};k.a.serverURL="https://parseapi.back4app.com",k.a.initialize("QhROuOfnzEEICGNC3Bzqw8dkXva20GYFeBVrljX9","wmkjaeQ7aDAEUHIHtCmZ3cmaqaA6LsILBPrrlIjE"),o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(M,{})}),document.getElementById("root")),X()}},[[747,1,2]]]);
//# sourceMappingURL=main.724ef181.chunk.js.map