(this["webpackJsonpkids-art-gallery"]=this["webpackJsonpkids-art-gallery"]||[]).push([[0],{365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},605:function(e,t){},607:function(e,t){},618:function(e,t){},620:function(e,t){},647:function(e,t){},649:function(e,t){},650:function(e,t){},655:function(e,t){},657:function(e,t){},676:function(e,t){},688:function(e,t){},691:function(e,t){},735:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){},741:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(83),i=n.n(s),l=(n(364),n(365),n(24)),o=(n(366),n(99)),j=n(21),u=n(750),d=n(743),b=n(749),O=Object(a.createContext)(null);n(367);var h=function(e){var t=e.onLogout,n=Object(a.useContext)(O);return Object(r.jsxs)(u.a,{bg:"light",expand:"lg",className:"c-navBar",children:[Object(r.jsxs)(u.a.Brand,{href:"#",children:[" ",Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTFE371xtXW78pE0Dj4ntg1aIV62EdUGmwBwQ&usqp=CAU",rounded:!0})]}),Object(r.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(b.a,{className:"mr-auto",children:[n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#",children:"About me"}):null,n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#/ArtistGalleries",children:"My galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwner",children:"Galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwnerArtists",children:"Artists"}):null]}),Object(r.jsxs)(b.a,{className:"ml-auto",children:[n?null:Object(r.jsx)(b.a.Link,{href:"#/Login",children:"LogIn"}),n?null:Object(r.jsx)(b.a.Link,{href:"#",children:"SignIn"}),n?Object(r.jsx)(b.a.Link,{href:"#",onClick:function(){return t()},children:"LogOut"}):null]})]})]})};n(371);var x=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(h,{}),Object(r.jsx)("p",{children:"HomePage"})]})},f=n(43),g=n.n(f),p=n(67),m=n(744),v=n(748),y=n(745),w=(n(372),n(13)),k=n.n(w),L=n(116),C=function e(t){Object(L.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.role=t.get("role"),this.email=t.get("email"),this.picture=t.get("picture"),this.username=t.get("username")};var G=function(e){var t=Object(a.useState)("rev@rev.com"),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("1234"),o=Object(l.a)(i,2),u=o[0],d=o[1],b=e.onLogin,O=Object(a.useState)(!1),h=Object(l.a)(O,2),x=h[0],f=h[1],w=Object(a.useState)(!1),L=Object(l.a)(w,2),G=L[0],A=L[1];function I(){return(I=Object(p.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.User.logIn(c,u);case 3:t=e.sent,n=new C(t),b(n),"artist"===n.role&&f(!0),"galleryOwner"===n.role&&A(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error while logging in , "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return G?Object(r.jsx)(j.a,{to:"/GalleryOwner"}):x?Object(r.jsx)(j.a,{to:"/ArtistGalleries"}):Object(r.jsx)("div",{className:"p-login",children:Object(r.jsx)(m.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(v.a.Label,{children:"Email address"}),Object(r.jsx)(v.a.Control,{type:"email",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter email"}),Object(r.jsx)(v.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(v.a.Label,{children:"Password"}),Object(r.jsx)(v.a.Control,{type:"password",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Password"})]}),Object(r.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){return I.apply(this,arguments)},children:"Submit"})]})})})},A=function e(t){Object(L.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.artist=t.get("artist")},I=(n(735),n(357)),B=n(746),N=n(751);n(736);var E=function(e){var t=e.gallery,n=e.artist;return Object(r.jsx)("div",{className:"c-owner-gallery-card",children:Object(r.jsxs)(N.a,{children:[Object(r.jsxs)(N.a.Body,{children:[Object(r.jsx)(N.a.Title,{children:t.name}),n[0]?Object(r.jsx)(N.a.Title,{children:n[0].username}):null]}),Object(r.jsx)(y.a,{href:"#",variant:"primary",children:" Edit "})]})})};var S=function(e){var t=e.onLogout,n=Object(a.useContext)(O),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],x=d[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(g.a.mark((function e(){var t,n,r,a,c,s,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("createdBy",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,a=r.map((function(e){return new A(e)})),c=new k.a.User,(s=new k.a.Query(c)).equalTo("role","artist"),e.next=13,s.find();case 13:i=e.sent,l=i.map((function(e){return new C(e)})),o(a),x(l),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var f=i.map((function(e){return Object(r.jsx)(I.a,{lg:3,md:6,children:Object(r.jsx)(E,{gallery:e,artist:b.filter((function(t){return t.id===e.artist.id}))})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryOwnerPage",children:[Object(r.jsx)(h,{onLogout:t}),Object(r.jsx)("p",{children:"GalleryOwnerPage"}),Object(r.jsx)(m.a,{children:Object(r.jsx)(B.a,{children:f})})]})},T=(n(737),function e(t){Object(L.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.img=t.get("artwork").url(),this.galleryId=t.get("galleryId")});n(738);var P=function(e){var t=e.gallery,n=e.artworks;console.log(n);var a="#/ArtistGalleries/"+t.name;return Object(r.jsx)("div",{className:"c-gallery-card",children:Object(r.jsxs)(N.a,{children:[Object(r.jsx)(N.a.Body,{children:Object(r.jsx)(N.a.Title,{children:t.name})}),n[0]?Object(r.jsx)(N.a.Img,{variant:"bottom",src:n[0].img}):null,Object(r.jsxs)(y.a,{href:a,variant:"primary",children:["Go to ",t.name," "]})]})})};var U=function(e){var t=e.onLogout,n=Object(a.useContext)(O),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],x=d[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(g.a.mark((function e(){var t,n,r,a,c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("artist",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,console.log("Galleries found",r),a=r.map((function(e){return new A(e)})),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).include("galleryId",a),e.next=14,s.find();case 14:i=e.sent,console.log("ArtWork found",i),o(a),x(i.map((function(e){return new T(e)}))),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var f=i.map((function(e){return Object(r.jsx)(I.a,{lg:3,md:6,children:Object(r.jsx)(P,{artworks:b.filter((function(t){return t.galleryId.id===e.id})),gallery:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-artistGalleries",children:[Object(r.jsx)(h,{onLogout:t}),Object(r.jsx)(m.a,{children:Object(r.jsxs)(B.a,{children:[f,f,f,f]})})]})};n(739),n(740);var q=function(e){var t=e.artwork;return Object(r.jsx)("div",{className:"c-pic-card",children:Object(r.jsxs)(N.a,{children:[Object(r.jsx)(N.a.Body,{children:Object(r.jsx)(N.a.Title,{children:t.name})}),Object(r.jsx)(N.a.Img,{variant:"bottom",src:t.img})]})})},F=n(747);var Q=function(e){var t=e.show,n=e.handleClose,c=e.addContent,s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),b=d[0],O=d[1];function h(){j(""),O(null),n()}return Object(r.jsxs)(F.a,{show:t,onHide:n,size:"xl",className:"c-new-recipe-modal",children:[Object(r.jsx)(F.a.Header,{closeButton:!0,children:Object(r.jsx)(F.a.Title,{children:"New artwork"})}),Object(r.jsx)(F.a.Body,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{as:B.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Name"}),Object(r.jsx)(I.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Artwork Name",value:o,onChange:function(e){return j(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:B.a,controlId:"formHorizontalImage",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Image"}),Object(r.jsx)(I.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?O(e.target.files[0]):O(null)}})})]})]})}),Object(r.jsxs)(F.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:h,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){c(o,b),h()},children:"Add artwork"})]})]})};var W=function(e){var t=e.onLogout,n=Object(j.g)().galleryName,c=Object(a.useContext)(O),s=Object(a.useState)([]),i=Object(l.a)(s,2),o=i[0],u=i[1],b=Object(a.useState)(!1),x=Object(l.a)(b,2),f=x[0],v=x[1],w=Object(a.useState)([]),L=Object(l.a)(w,2),C=L[0],G=L[1];function A(){return(A=Object(p.a)(g.a.mark((function e(t,n){var r,a,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(n.name),console.log(C[0].id),r={__type:"Pointer",className:"Gallery",objectId:C[0].id},a=k.a.Object.extend("ArtWork"),(c=new a).set("name",t),c.set("createdBy",k.a.User.current()),c.set("artwork",new k.a.File(n.name,n)),c.set("galleryId",r),e.next=13,c.save();case 13:s=e.sent,console.log("ArtWork created"),u(o.concat(new T(s))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(p.a)(g.a.mark((function e(){var t,r,a,c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(r=new k.a.Query(t)).equalTo("name",n),e.next=6,r.find();case 6:return a=e.sent,G(a),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).equalTo("galleryId",a[0]),e.next=13,s.find();case 13:i=e.sent,u(i.map((function(e){return new T(e)}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[c]),!c)return Object(r.jsx)(j.a,{to:"#/"});var N=o.map((function(e){return Object(r.jsx)(I.a,{lg:2,md:6,children:Object(r.jsx)(q,{artwork:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryByIdPage",children:[Object(r.jsx)(h,{onLogout:t}),Object(r.jsxs)(m.a,{children:[Object(r.jsx)("p",{children:n}),Object(r.jsxs)(B.a,{children:[N,Object(r.jsx)(y.a,{variant:"info",onClick:function(){return v(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})})]})]}),Object(r.jsx)(Q,{show:f,handleClose:function(){return v(!1)},addContent:function(e,t){return A.apply(this,arguments)}})]})};var z=function(e){var t=e.onLogout;return Object(r.jsxs)("div",{children:[Object(r.jsx)(h,{onLogout:t}),Object(r.jsx)("p",{children:"GalleryOwnerArtistsPage"})]})};var H=function(){var e=Object(a.useState)(k.a.User.current()?new C(k.a.User.current()):null),t=Object(l.a)(e,2),n=t[0],c=t[1];function s(){c(null),k.a.User.logOut()}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(O.Provider,{value:n,children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",children:Object(r.jsx)(x,{})}),Object(r.jsx)(j.b,{exact:!0,path:"/Login",children:Object(r.jsx)(G,{onLogin:function(e){c(e)}})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwner",children:Object(r.jsx)(S,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwnerArtists",children:Object(r.jsx)(z,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries",children:Object(r.jsx)(U,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries/:galleryName",children:Object(r.jsx)(W,{onLogout:s})})]})})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,752)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};k.a.serverURL="https://parseapi.back4app.com",k.a.initialize("QhROuOfnzEEICGNC3Bzqw8dkXva20GYFeBVrljX9","wmkjaeQ7aDAEUHIHtCmZ3cmaqaA6LsILBPrrlIjE"),i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(H,{})}),document.getElementById("root")),D()}},[[741,1,2]]]);
//# sourceMappingURL=main.e9b867f2.chunk.js.map