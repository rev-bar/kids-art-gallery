(this["webpackJsonpkids-art-gallery"]=this["webpackJsonpkids-art-gallery"]||[]).push([[0],{365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},605:function(e,t){},607:function(e,t){},618:function(e,t){},620:function(e,t){},647:function(e,t){},649:function(e,t){},650:function(e,t){},655:function(e,t){},657:function(e,t){},676:function(e,t){},688:function(e,t){},691:function(e,t){},735:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){},741:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(83),i=n.n(s),l=(n(364),n(365),n(16)),o=(n(366),n(99)),j=n(22),u=n(750),d=n(743),b=n(749),h=Object(a.createContext)(null);n(367);var O=function(e){var t=e.onLogout,n=Object(a.useContext)(h);return Object(r.jsxs)(u.a,{bg:"light",expand:"lg",className:"c-navBar",children:[Object(r.jsxs)(u.a.Brand,{href:"#",children:[" ",Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTFE371xtXW78pE0Dj4ntg1aIV62EdUGmwBwQ&usqp=CAU",rounded:!0})]}),Object(r.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(b.a,{className:"mr-auto",children:[n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#",children:"About me"}):null,n&&"artist"===n.role?Object(r.jsx)(b.a.Link,{href:"#/ArtistGalleries",children:"My galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwner",children:"Galleries"}):null,n&&"galleryOwner"===n.role?Object(r.jsx)(b.a.Link,{href:"#/GalleryOwnerArtists",children:"Artists"}):null]}),Object(r.jsxs)(b.a,{className:"ml-auto",children:[n?null:Object(r.jsx)(b.a.Link,{href:"#/Login",children:"LogIn"}),n?null:Object(r.jsx)(b.a.Link,{href:"#",children:"SignIn"}),n?Object(r.jsx)(b.a.Link,{href:"#",onClick:function(){return t()},children:"LogOut"}):null]})]})]})};n(371);var x=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{}),Object(r.jsx)("p",{children:"HomePage"})]})},f=n(37),p=n.n(f),g=n(63),m=n(744),v=n(748),y=n(745),w=(n(372),n(12)),k=n.n(w),C=n(116),G=function e(t){Object(C.a)(this,e),this.id=t.id,this.createdAt=t.get("createdAt"),this.role=t.get("role"),this.email=t.get("email"),this.picture=t.get("picture"),this.username=t.get("username")};var L=function(e){var t=Object(a.useState)("rev@rev.com"),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("1234"),o=Object(l.a)(i,2),u=o[0],d=o[1],b=e.onLogin,h=Object(a.useState)(!1),O=Object(l.a)(h,2),x=O[0],f=O[1],w=Object(a.useState)(!1),C=Object(l.a)(w,2),L=C[0],A=C[1];function N(){return(N=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.User.logIn(c,u);case 3:t=e.sent,n=new G(t),b(n),"artist"===n.role&&f(!0),"galleryOwner"===n.role&&A(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error while logging in , "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return L?Object(r.jsx)(j.a,{to:"/GalleryOwner"}):x?Object(r.jsx)(j.a,{to:"/ArtistGalleries"}):Object(r.jsx)("div",{className:"p-login",children:Object(r.jsx)(m.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(r.jsx)(v.a.Label,{children:"Email address"}),Object(r.jsx)(v.a.Control,{type:"email",value:c,onChange:function(e){return s(e.target.value)},placeholder:"Enter email"}),Object(r.jsx)(v.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(r.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(r.jsx)(v.a.Label,{children:"Password"}),Object(r.jsx)(v.a.Control,{type:"password",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Password"})]}),Object(r.jsx)(y.a,{variant:"primary",type:"button",onClick:function(){return N.apply(this,arguments)},children:"Submit"})]})})})},A=function e(t){Object(C.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.artist=t.get("artist")},N=(n(735),n(357)),I=n(746),B=n(751);n(736);var E=function(e){var t=e.gallery,n=e.artist;return Object(r.jsx)("div",{className:"c-owner-gallery-card",children:Object(r.jsxs)(B.a,{children:[Object(r.jsxs)(B.a.Body,{children:[Object(r.jsx)(B.a.Title,{children:t.name}),n[0]?Object(r.jsxs)(B.a.Title,{children:[" by  ",n[0].username]}):null]}),Object(r.jsx)(y.a,{href:"#",variant:"primary",children:" Edit "})]})})},S=n(747);var T=function(e){var t=e.artists,n=e.show,c=e.handleClose,s=e.addContent,i=Object(a.useState)(""),o=Object(l.a)(i,2),j=o[0],u=o[1],d=Object(a.useState)(""),b=Object(l.a)(d,2),h=b[0],O=b[1];function x(){u(""),O(""),c()}var f=[];return t.length>=1&&(f=t.map((function(e,t){return Object(r.jsx)("option",{value:e.username,children:e.username},e.id)}))),Object(r.jsxs)(S.a,{show:n,onHide:c,size:"l",className:"c-new-recipe-modal",children:[Object(r.jsx)(S.a.Header,{closeButton:!0,children:Object(r.jsx)(S.a.Title,{children:"New gallery"})}),Object(r.jsxs)(S.a.Body,{children:[Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Gallery Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Gallery Name",value:j,onChange:function(e){return u(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalArtist",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artist Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)("select",{value:h,onChange:function(e){var t=e.target.value;O(t)},children:f})})]})]}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:x,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){s(j,h),x()},children:"Add gallery"})]})]})};var U=function(e){var t=e.onLogout,n=Object(a.useContext)(h),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)([]),b=Object(l.a)(u,2),x=b[0],f=b[1],v=Object(a.useState)(!1),w=Object(l.a)(v,2),C=w[0],L=w[1];function B(){return(B=Object(g.a)(p.a.mark((function e(t,n){var r,a,c,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),r=x.find((function(e){return e.username===n})),console.log(r),a={__type:"Pointer",className:"_User",objectId:r.id},c=k.a.Object.extend("Gallery"),(s=new c).set("name",t),s.set("createdBy",k.a.User.current()),s.set("artist",a),e.next=12,s.save();case 12:l=e.sent,console.log("Gallery created"),o(i.concat(new A(l))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(p.a.mark((function e(){var t,n,r,a,c,s,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("createdBy",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,a=r.map((function(e){return new A(e)})),c=new k.a.User,(s=new k.a.Query(c)).equalTo("role","artist"),e.next=13,s.find();case 13:i=e.sent,l=i.map((function(e){return new G(e)})),o(a),f(l),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n,i]),!n)return Object(r.jsx)(j.a,{to:"#/"});var S=i.map((function(e){return Object(r.jsx)(N.a,{xl:3,md:4,children:Object(r.jsx)(E,{gallery:e,artist:x.filter((function(t){return t.id===e.artist.id}))})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryOwnerPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)("p",{children:[n.username,"'s galleries"]}),Object(r.jsx)(m.a,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{variant:"info",onClick:function(){return L(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})}),S]})}),Object(r.jsx)(T,{show:C,handleClose:function(){return L(!1)},addContent:function(e,t){return B.apply(this,arguments)},artists:x})]})},q=(n(737),function e(t){Object(C.a)(this,e),this.id=t.id,this.name=t.get("name"),this.createdAt=t.get("createdAt"),this.createdBy=t.get("createdBy"),this.img=t.get("artwork").url(),this.galleryId=t.get("galleryId")});n(738);var P=function(e){var t=e.gallery,n=e.artworks;console.log(n);var a="#/ArtistGalleries/"+t.name;return Object(r.jsx)("div",{className:"c-gallery-card",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)(B.a.Body,{children:Object(r.jsx)(B.a.Title,{children:t.name})}),n[0]?Object(r.jsx)(B.a.Img,{variant:"bottom",src:n[0].img}):null,Object(r.jsxs)(y.a,{href:a,variant:"primary",children:["Go to ",t.name," "]})]})})};var F=function(e){var t=e.onLogout,n=Object(a.useContext)(h),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)([]),d=Object(l.a)(u,2),b=d[0],x=d[1];if(Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(p.a.mark((function e(){var t,n,r,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(n=new k.a.Query(t)).equalTo("artist",k.a.User.current()),e.next=6,n.find();case 6:return r=e.sent,console.log("Galleries found",r),a=r.map((function(e){return new A(e)})),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).include("galleryId",a),e.next=14,s.find();case 14:i=e.sent,console.log("ArtWork found",i),o(a),x(i.map((function(e){return new q(e)}))),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),!n)return Object(r.jsx)(j.a,{to:"#/"});var f=i.map((function(e){return Object(r.jsx)(N.a,{lg:3,md:6,children:Object(r.jsx)(P,{artworks:b.filter((function(t){return t.galleryId.id===e.id})),gallery:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-artistGalleries",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)(m.a,{children:Object(r.jsx)(I.a,{children:f})})]})};n(739),n(740);var z=function(e){var t=e.artwork;return Object(r.jsx)("div",{className:"c-pic-card",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)(B.a.Body,{children:Object(r.jsx)(B.a.Title,{children:t.name})}),Object(r.jsx)(B.a.Img,{variant:"bottom",src:t.img})]})})};var H=function(e){var t=e.show,n=e.handleClose,c=e.addContent,s=Object(a.useState)(""),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),b=d[0],h=d[1];function O(){j(""),h(null),n()}return Object(r.jsxs)(S.a,{show:t,onHide:n,size:"xl",className:"c-new-recipe-modal",children:[Object(r.jsx)(S.a.Header,{closeButton:!0,children:Object(r.jsx)(S.a.Title,{children:"New artwork"})}),Object(r.jsx)(S.a.Body,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalName",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Name"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"text",placeholder:"Artwork Name",value:o,onChange:function(e){return j(e.target.value)}})})]}),Object(r.jsxs)(v.a.Group,{as:I.a,controlId:"formHorizontalImage",children:[Object(r.jsx)(v.a.Label,{column:!0,sm:2,children:"Artwork Image"}),Object(r.jsx)(N.a,{sm:10,children:Object(r.jsx)(v.a.Control,{type:"file",accept:"image/*",onChange:function(e){1===e.target.files.length?h(e.target.files[0]):h(null)}})})]})]})}),Object(r.jsxs)(S.a.Footer,{children:[Object(r.jsx)(y.a,{variant:"secondary",onClick:O,children:"Cancel"}),Object(r.jsx)(y.a,{variant:"primary",onClick:function(){c(o,b),O()},children:"Add artwork"})]})]})};var Q=function(e){var t=e.onLogout,n=Object(j.g)().galleryName,c=Object(a.useContext)(h),s=Object(a.useState)([]),i=Object(l.a)(s,2),o=i[0],u=i[1],b=Object(a.useState)(!1),x=Object(l.a)(b,2),f=x[0],v=x[1],w=Object(a.useState)([]),C=Object(l.a)(w,2),G=C[0],L=C[1];function A(){return(A=Object(g.a)(p.a.mark((function e(t,n){var r,a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),console.log(n.name),console.log(G[0].id),r={__type:"Pointer",className:"Gallery",objectId:G[0].id},a=k.a.Object.extend("ArtWork"),(c=new a).set("name",t),c.set("createdBy",k.a.User.current()),c.set("artwork",new k.a.File(n.name,n)),c.set("galleryId",r),e.next=13,c.save();case 13:s=e.sent,console.log("ArtWork created"),u(o.concat(new q(s))),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error while writing to DB:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}if(Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(p.a.mark((function e(){var t,r,a,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=k.a.Object.extend("Gallery"),(r=new k.a.Query(t)).equalTo("name",n),e.next=6,r.find();case 6:return a=e.sent,L(a),c=k.a.Object.extend("ArtWork"),(s=new k.a.Query(c)).equalTo("galleryId",a[0]),e.next=13,s.find();case 13:i=e.sent,u(i.map((function(e){return new q(e)}))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while fetching data",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()}),[c]),!c)return Object(r.jsx)(j.a,{to:"#/"});var B=o.map((function(e){return Object(r.jsx)(N.a,{xl:2,md:3,children:Object(r.jsx)(z,{artwork:e})},e.id)}));return Object(r.jsxs)("div",{className:"p-GalleryByIdPage",children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsxs)(m.a,{children:[Object(r.jsx)("p",{children:n}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(y.a,{variant:"info",onClick:function(){return v(!0)},children:Object(r.jsx)(d.a,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFW8Goxnhxje8kvnJ4EzvnxpybClc1oiM4nQ&usqp=CAU"})}),B]})]}),Object(r.jsx)(H,{show:f,handleClose:function(){return v(!1)},addContent:function(e,t){return A.apply(this,arguments)}})]})};var W=function(e){var t=e.onLogout;return Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{onLogout:t}),Object(r.jsx)("p",{children:"GalleryOwnerArtistsPage"})]})};var D=function(){var e=Object(a.useState)(k.a.User.current()?new G(k.a.User.current()):null),t=Object(l.a)(e,2),n=t[0],c=t[1];function s(){c(null),k.a.User.logOut()}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(h.Provider,{value:n,children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/",children:Object(r.jsx)(x,{})}),Object(r.jsx)(j.b,{exact:!0,path:"/Login",children:Object(r.jsx)(L,{onLogin:function(e){c(e)}})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwner",children:Object(r.jsx)(U,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/GalleryOwnerArtists",children:Object(r.jsx)(W,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries",children:Object(r.jsx)(F,{onLogout:s})}),Object(r.jsx)(j.b,{exact:!0,path:"/ArtistGalleries/:galleryName",children:Object(r.jsx)(Q,{onLogout:s})})]})})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,752)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};k.a.serverURL="https://parseapi.back4app.com",k.a.initialize("QhROuOfnzEEICGNC3Bzqw8dkXva20GYFeBVrljX9","wmkjaeQ7aDAEUHIHtCmZ3cmaqaA6LsILBPrrlIjE"),i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),_()}},[[741,1,2]]]);
//# sourceMappingURL=main.026369d9.chunk.js.map